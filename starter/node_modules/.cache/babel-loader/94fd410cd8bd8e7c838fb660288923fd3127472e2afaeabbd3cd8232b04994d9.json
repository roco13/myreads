{"ast":null,"code":"var _jsxFileName = \"/Users/rfernandezgiro/Documents/Github/myreads/starter/src/Search.js\",\n  _s = $RefreshSig$();\nimport { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Book from \"./Book\";\nimport * as BooksAPI from \"./BooksAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Search = ({\n  books,\n  updateBook\n}) => {\n  _s();\n  const [query, setQuery] = useState(\"\");\n  const [showSearchPage, setShowSearchpage] = useState([]);\n  const searchBook = query => {\n    const search = async () => {\n      const res = await BooksAPI.search(query);\n      if (res === undefined || 'error' in res) {\n        setShowSearchpage([]);\n      } else {\n        res.forEach(currBook => {\n          for (let book of books) {\n            if (book.id === currBook.id) {\n              currBook.shelf = book.shelf;\n              currBook = {\n                ...currBook,\n                shelf: book.shelf\n              };\n            } else {\n              currBook.shelf = \"none\";\n            }\n            ;\n          }\n          ;\n        });\n        setShowSearchpage(res);\n      }\n      ;\n    };\n    search();\n  };\n  const updateQuery = query => {\n    setQuery(query);\n    searchBook(query);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-books\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-bar\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"close-search\",\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-input-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by title, author, or ISBN\",\n          value: query,\n          onChange: event => updateQuery(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-results\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"books-grid\",\n        children: showSearchPage.map(book => {\n          return /*#__PURE__*/_jsxDEV(Book, {\n            book: book,\n            updateBook: updateBook\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 28\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this);\n};\n_s(Search, \"gUXkmcu8n1AGeb0knDyPmycYCPc=\");\n_c = Search;\nSearch.propTypes = {\n  books: PropTypes.array.isRequired,\n  updateBook: PropTypes.func.isRequired\n};\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["Link","useState","PropTypes","Book","BooksAPI","jsxDEV","_jsxDEV","Search","books","updateBook","_s","query","setQuery","showSearchPage","setShowSearchpage","searchBook","search","res","undefined","forEach","currBook","book","id","shelf","updateQuery","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","event","target","map","_c","propTypes","array","isRequired","func","$RefreshReg$"],"sources":["/Users/rfernandezgiro/Documents/Github/myreads/starter/src/Search.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Book from \"./Book\";\nimport * as BooksAPI from \"./BooksAPI\";\n\nconst Search = ({ books,  updateBook}) => {\n    \n  const [query, setQuery] = useState(\"\");\n  const [showSearchPage, setShowSearchpage] = useState([]);\n    \n  const searchBook = (query) => {\n    const search = async () => {\n      const res = await BooksAPI.search(query);\n      if(res === undefined || 'error' in res) {\n        setShowSearchpage([]);\n      } else {\n        res.forEach( (currBook) =>{\n          for(let book of books) {\n            if(book.id === currBook.id) {\n            currBook.shelf = book.shelf;\n            currBook = {...currBook, shelf:book.shelf};\n            } else {\n              currBook.shelf = \"none\";\n            };\n          };\n        });\n        setShowSearchpage(res);\n      };\n    };\n    search();\n  };\n     \n  const updateQuery = (query) => {\n    setQuery(query);\n    searchBook(query);\n  };\n\n  return (       \n      <div className=\"search-books\">\n          <div className=\"search-books-bar\">\n              <Link className=\"close-search\" to=\"/\" />\n              <div className=\"search-books-input-wrapper\">\n              <input\n                  type=\"text\"\n                  placeholder=\"Search by title, author, or ISBN\"\n                  value={query}\n                  onChange={(event) => updateQuery(event.target.value)}\n              />\n              </div>\n          </div>\n          <div className=\"search-books-results\">\n              <ol className=\"books-grid\">\n                {\n                  showSearchPage.map( (book) =>  {\n                    return <Book key={book.id} book= {book}  updateBook={updateBook} />\n                  })\n                }    \n              </ol>\n          </div>\n      </div>        \n  )\n};\n\nSearch.propTypes = {\n    books: PropTypes.array.isRequired,\n    updateBook: PropTypes.func.isRequired,\n};\n\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}